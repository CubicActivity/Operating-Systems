ubuntu:~$ echo -e "Fridge;\$600;5\nTV;\$1500;6\nMicrowave;\$200;10" > products.txt
ubuntu:~$ docker run -it --name temp-container debian:11-slim bash -c "apt-get update && apt-get install -y nginx && mkdir -p /var/www/html && exit"
Unable to find image 'debian:11-slim' locally
11-slim: Pulling from library/debian
c8e1eb8ab3b0: Pull complete
Digest: sha256:fdd75562fdcde1039c2480a1ea1cd2cf03b18b6e4cb551cabb03bde66ade8a5d
Status: Downloaded newer image for debian:11-slim
Get:1 http://deb.debian.org/debian bullseye InRelease [116 kB]
Get:2 http://deb.debian.org/debian-security bullseye-security InRelease [27.2 kB]
Get:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]
Get:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8066 kB]
Get:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [363 kB]
Get:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [18.8 kB]
Fetched 8635 kB in 2s (4960 kB/s)                     
Reading package lists... Done
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
The following additional packages will be installed:
  fontconfig-config fonts-dejavu-core geoip-database iproute2 libatm1 libbpf0 libbrotli1
  libbsd0 libcap2 libcap2-bin libdeflate0 libelf1 libexpat1 libfontconfig1 libfreetype6
  libgd3 libgeoip1 libicu67 libjbig0 libjpeg62-turbo libmd0 libmnl0 libnginx-mod-http-geoip
  libnginx-mod-http-image-filter libnginx-mod-http-xslt-filter libnginx-mod-mail
  libnginx-mod-stream libnginx-mod-stream-geoip libpam-cap libpng16-16 libtiff5 libwebp6
  libx11-6 libx11-data libxau6 libxcb1 libxdmcp6 libxml2 libxpm4 libxslt1.1 libxtables12
  nginx-common nginx-core sensible-utils ucf
Suggested packages:
  iproute2-doc libgd-tools geoip-bin fcgiwrap nginx-doc ssl-cert
The following NEW packages will be installed:
  fontconfig-config fonts-dejavu-core geoip-database iproute2 libatm1 libbpf0 libbrotli1
  libbsd0 libcap2 libcap2-bin libdeflate0 libelf1 libexpat1 libfontconfig1 libfreetype6
  libgd3 libgeoip1 libicu67 libjbig0 libjpeg62-turbo libmd0 libmnl0 libnginx-mod-http-geoip
  libnginx-mod-http-image-filter libnginx-mod-http-xslt-filter libnginx-mod-mail
  libnginx-mod-stream libnginx-mod-stream-geoip libpam-cap libpng16-16 libtiff5 libwebp6
  libx11-6 libx11-data libxau6 libxcb1 libxdmcp6 libxml2 libxpm4 libxslt1.1 libxtables12
  nginx nginx-common nginx-core sensible-utils ucf
0 upgraded, 46 newly installed, 0 to remove and 2 not upgraded.
Need to get 20.7 MB of archives.
After this operation, 67.9 MB of additional disk space will be used.
Get:1 http://deb.debian.org/debian bullseye/main amd64 libelf1 amd64 0.183-1 [165 kB]
Get:2 http://deb.debian.org/debian-security bullseye-security/main amd64 libbpf0 amd64 1:0.3-2+deb11u1 [98.5 kB]
Get:3 http://deb.debian.org/debian bullseye/main amd64 libmd0 amd64 1.0.3-3 [28.0 kB]
Get:4 http://deb.debian.org/debian bullseye/main amd64 libbsd0 amd64 0.11.3-1+deb11u1 [108 kB]
Get:5 http://deb.debian.org/debian-security bullseye-security/main amd64 libcap2 amd64 1:2.44-1+deb11u1 [24.2 kB]
Get:6 http://deb.debian.org/debian bullseye/main amd64 libmnl0 amd64 1.0.4-3 [12.5 kB]
Get:7 http://deb.debian.org/debian bullseye/main amd64 libxtables12 amd64 1.8.7-1 [45.1 kB]
Get:8 http://deb.debian.org/debian-security bullseye-security/main amd64 libcap2-bin amd64 1:2.44-1+deb11u1 [33.2 kB]
Get:9 http://deb.debian.org/debian bullseye/main amd64 iproute2 amd64 5.10.0-4 [930 kB]
Get:10 http://deb.debian.org/debian bullseye/main amd64 sensible-utils all 0.0.14 [14.8 kB]
Get:11 http://deb.debian.org/debian-security bullseye-security/main amd64 ucf all 3.0043+deb11u2 [74.3 kB]
Get:12 http://deb.debian.org/debian bullseye/main amd64 fonts-dejavu-core all 2.37-2 [1069 kB]
Get:13 http://deb.debian.org/debian bullseye/main amd64 fontconfig-config all 2.13.1-4.2 [281 kB]
Get:14 http://deb.debian.org/debian bullseye/main amd64 geoip-database all 20191224-3 [3032 kB]
Get:15 http://deb.debian.org/debian bullseye/main amd64 libatm1 amd64 1:2.5.1-4 [71.3 kB]
Get:16 http://deb.debian.org/debian bullseye/main amd64 libbrotli1 amd64 1.0.9-2+b2 [279 kB]
Get:17 http://deb.debian.org/debian bullseye/main amd64 libdeflate0 amd64 1.7-1 [53.1 kB]
Get:18 http://deb.debian.org/debian-security bullseye-security/main amd64 libexpat1 amd64 2.2.10-2+deb11u7 [99.2 kB]
Get:19 http://deb.debian.org/debian bullseye/main amd64 libpng16-16 amd64 1.6.37-3 [294 kB]
Get:20 http://deb.debian.org/debian-security bullseye-security/main amd64 libfreetype6 amd64 2.10.4+dfsg-1+deb11u2 [418 kB]
Get:21 http://deb.debian.org/debian bullseye/main amd64 libfontconfig1 amd64 2.13.1-4.2 [347 kB]
Get:22 http://deb.debian.org/debian bullseye/main amd64 libjpeg62-turbo amd64 1:2.0.6-4 [151 kB]
Get:23 http://deb.debian.org/debian bullseye/main amd64 libjbig0 amd64 2.1-3.1+b2 [31.0 kB]
Get:24 http://deb.debian.org/debian bullseye/main amd64 libwebp6 amd64 0.6.1-2.1+deb11u2 [259 kB]
Get:25 http://deb.debian.org/debian-security bullseye-security/main amd64 libtiff5 amd64 4.2.0-1+deb11u6 [291 kB]
Get:26 http://deb.debian.org/debian bullseye/main amd64 libxau6 amd64 1:1.0.9-1 [19.7 kB]
Get:27 http://deb.debian.org/debian bullseye/main amd64 libxdmcp6 amd64 1:1.1.2-3 [26.3 kB]
Get:28 http://deb.debian.org/debian bullseye/main amd64 libxcb1 amd64 1.14-3 [140 kB]
Get:29 http://deb.debian.org/debian bullseye/main amd64 libx11-data all 2:1.7.2-1+deb11u2 [311 kB]
Get:30 http://deb.debian.org/debian bullseye/main amd64 libx11-6 amd64 2:1.7.2-1+deb11u2 [772 kB]
Get:31 http://deb.debian.org/debian bullseye/main amd64 libxpm4 amd64 1:3.5.12-1.1+deb11u1 [50.0 kB]
Get:32 http://deb.debian.org/debian bullseye/main amd64 libgd3 amd64 2.3.0-2 [137 kB]
Get:33 http://deb.debian.org/debian bullseye/main amd64 libgeoip1 amd64 1.6.12-7 [92.5 kB]
Get:34 http://deb.debian.org/debian bullseye/main amd64 libicu67 amd64 67.1-7 [8622 kB]
Get:35 http://deb.debian.org/debian-security bullseye-security/main amd64 nginx-common all 1.18.0-6.1+deb11u4 [126 kB]
Get:36 http://deb.debian.org/debian-security bullseye-security/main amd64 libnginx-mod-http-geoip amd64 1.18.0-6.1+deb11u4 [98.6 kB]
Get:37 http://deb.debian.org/debian-security bullseye-security/main amd64 libnginx-mod-http-image-filter amd64 1.18.0-6.1+deb11u4 [102 kB]
Get:38 http://deb.debian.org/debian-security bullseye-security/main amd64 libxml2 amd64 2.9.10+dfsg-6.7+deb11u7 [693 kB]
Get:39 http://deb.debian.org/debian-security bullseye-security/main amd64 libxslt1.1 amd64 1.1.34-4+deb11u2 [240 kB]
Get:40 http://deb.debian.org/debian-security bullseye-security/main amd64 libnginx-mod-http-xslt-filter amd64 1.18.0-6.1+deb11u4 [101 kB]
Get:41 http://deb.debian.org/debian-security bullseye-security/main amd64 libnginx-mod-mail amd64 1.18.0-6.1+deb11u4 [130 kB]
Get:42 http://deb.debian.org/debian-security bullseye-security/main amd64 libnginx-mod-stream amd64 1.18.0-6.1+deb11u4 [155 kB]
Get:43 http://deb.debian.org/debian-security bullseye-security/main amd64 libnginx-mod-stream-geoip amd64 1.18.0-6.1+deb11u4 [97.8 kB]
Get:44 http://deb.debian.org/debian-security bullseye-security/main amd64 libpam-cap amd64 1:2.44-1+deb11u1 [16.0 kB]
Get:45 http://deb.debian.org/debian-security bullseye-security/main amd64 nginx-core amd64 1.18.0-6.1+deb11u4 [516 kB]
Get:46 http://deb.debian.org/debian-security bullseye-security/main amd64 nginx all 1.18.0-6.1+deb11u4 [93.1 kB]
Fetched 20.7 MB in 2s (12.9 MB/s)
debconf: delaying package configuration, since apt-utils is not installed
Selecting previously unselected package libelf1:amd64.
(Reading database ... 6673 files and directories currently installed.)
Preparing to unpack .../00-libelf1_0.183-1_amd64.deb ...
Unpacking libelf1:amd64 (0.183-1) ...
Selecting previously unselected package libbpf0:amd64.
Preparing to unpack .../01-libbpf0_1%3a0.3-2+deb11u1_amd64.deb ...
Unpacking libbpf0:amd64 (1:0.3-2+deb11u1) ...
Selecting previously unselected package libmd0:amd64.
Preparing to unpack .../02-libmd0_1.0.3-3_amd64.deb ...
Unpacking libmd0:amd64 (1.0.3-3) ...
Selecting previously unselected package libbsd0:amd64.
Preparing to unpack .../03-libbsd0_0.11.3-1+deb11u1_amd64.deb ...
Unpacking libbsd0:amd64 (0.11.3-1+deb11u1) ...
Selecting previously unselected package libcap2:amd64.
Preparing to unpack .../04-libcap2_1%3a2.44-1+deb11u1_amd64.deb ...
Unpacking libcap2:amd64 (1:2.44-1+deb11u1) ...
Selecting previously unselected package libmnl0:amd64.
Preparing to unpack .../05-libmnl0_1.0.4-3_amd64.deb ...
Unpacking libmnl0:amd64 (1.0.4-3) ...
Selecting previously unselected package libxtables12:amd64.
Preparing to unpack .../06-libxtables12_1.8.7-1_amd64.deb ...
Unpacking libxtables12:amd64 (1.8.7-1) ...
Selecting previously unselected package libcap2-bin.
Preparing to unpack .../07-libcap2-bin_1%3a2.44-1+deb11u1_amd64.deb ...
Unpacking libcap2-bin (1:2.44-1+deb11u1) ...
Selecting previously unselected package iproute2.
Preparing to unpack .../08-iproute2_5.10.0-4_amd64.deb ...
Unpacking iproute2 (5.10.0-4) ...
Selecting previously unselected package sensible-utils.
Preparing to unpack .../09-sensible-utils_0.0.14_all.deb ...
Unpacking sensible-utils (0.0.14) ...
Selecting previously unselected package ucf.
Preparing to unpack .../10-ucf_3.0043+deb11u2_all.deb ...
Moving old data out of the way
Unpacking ucf (3.0043+deb11u2) ...
Selecting previously unselected package fonts-dejavu-core.
Preparing to unpack .../11-fonts-dejavu-core_2.37-2_all.deb ...
Unpacking fonts-dejavu-core (2.37-2) ...
Selecting previously unselected package fontconfig-config.
Preparing to unpack .../12-fontconfig-config_2.13.1-4.2_all.deb ...
Unpacking fontconfig-config (2.13.1-4.2) ...
Selecting previously unselected package geoip-database.
Preparing to unpack .../13-geoip-database_20191224-3_all.deb ...
Unpacking geoip-database (20191224-3) ...
Selecting previously unselected package libatm1:amd64.
Preparing to unpack .../14-libatm1_1%3a2.5.1-4_amd64.deb ...
Unpacking libatm1:amd64 (1:2.5.1-4) ...
Selecting previously unselected package libbrotli1:amd64.
Preparing to unpack .../15-libbrotli1_1.0.9-2+b2_amd64.deb ...
Unpacking libbrotli1:amd64 (1.0.9-2+b2) ...
Selecting previously unselected package libdeflate0:amd64.
Preparing to unpack .../16-libdeflate0_1.7-1_amd64.deb ...
Unpacking libdeflate0:amd64 (1.7-1) ...
Selecting previously unselected package libexpat1:amd64.
Preparing to unpack .../17-libexpat1_2.2.10-2+deb11u7_amd64.deb ...
Unpacking libexpat1:amd64 (2.2.10-2+deb11u7) ...
Selecting previously unselected package libpng16-16:amd64.
Preparing to unpack .../18-libpng16-16_1.6.37-3_amd64.deb ...
Unpacking libpng16-16:amd64 (1.6.37-3) ...
Selecting previously unselected package libfreetype6:amd64.
Preparing to unpack .../19-libfreetype6_2.10.4+dfsg-1+deb11u2_amd64.deb ...
Unpacking libfreetype6:amd64 (2.10.4+dfsg-1+deb11u2) ...
Selecting previously unselected package libfontconfig1:amd64.
Preparing to unpack .../20-libfontconfig1_2.13.1-4.2_amd64.deb ...
Unpacking libfontconfig1:amd64 (2.13.1-4.2) ...
Selecting previously unselected package libjpeg62-turbo:amd64.
Preparing to unpack .../21-libjpeg62-turbo_1%3a2.0.6-4_amd64.deb ...
Unpacking libjpeg62-turbo:amd64 (1:2.0.6-4) ...
Selecting previously unselected package libjbig0:amd64.
Preparing to unpack .../22-libjbig0_2.1-3.1+b2_amd64.deb ...
Unpacking libjbig0:amd64 (2.1-3.1+b2) ...
Selecting previously unselected package libwebp6:amd64.
Preparing to unpack .../23-libwebp6_0.6.1-2.1+deb11u2_amd64.deb ...
Unpacking libwebp6:amd64 (0.6.1-2.1+deb11u2) ...
Selecting previously unselected package libtiff5:amd64.
Preparing to unpack .../24-libtiff5_4.2.0-1+deb11u6_amd64.deb ...
Unpacking libtiff5:amd64 (4.2.0-1+deb11u6) ...
Selecting previously unselected package libxau6:amd64.
Preparing to unpack .../25-libxau6_1%3a1.0.9-1_amd64.deb ...
Unpacking libxau6:amd64 (1:1.0.9-1) ...
Selecting previously unselected package libxdmcp6:amd64.
Preparing to unpack .../26-libxdmcp6_1%3a1.1.2-3_amd64.deb ...
Unpacking libxdmcp6:amd64 (1:1.1.2-3) ...
Selecting previously unselected package libxcb1:amd64.
Preparing to unpack .../27-libxcb1_1.14-3_amd64.deb ...
Unpacking libxcb1:amd64 (1.14-3) ...
Selecting previously unselected package libx11-data.
Preparing to unpack .../28-libx11-data_2%3a1.7.2-1+deb11u2_all.deb ...
Unpacking libx11-data (2:1.7.2-1+deb11u2) ...
Selecting previously unselected package libx11-6:amd64.
Preparing to unpack .../29-libx11-6_2%3a1.7.2-1+deb11u2_amd64.deb ...
Unpacking libx11-6:amd64 (2:1.7.2-1+deb11u2) ...
Selecting previously unselected package libxpm4:amd64.
Preparing to unpack .../30-libxpm4_1%3a3.5.12-1.1+deb11u1_amd64.deb ...
Unpacking libxpm4:amd64 (1:3.5.12-1.1+deb11u1) ...
Selecting previously unselected package libgd3:amd64.
Preparing to unpack .../31-libgd3_2.3.0-2_amd64.deb ...
Unpacking libgd3:amd64 (2.3.0-2) ...
Selecting previously unselected package libgeoip1:amd64.
Preparing to unpack .../32-libgeoip1_1.6.12-7_amd64.deb ...
Unpacking libgeoip1:amd64 (1.6.12-7) ...
Selecting previously unselected package libicu67:amd64.
Preparing to unpack .../33-libicu67_67.1-7_amd64.deb ...
Unpacking libicu67:amd64 (67.1-7) ...
Selecting previously unselected package nginx-common.
Preparing to unpack .../34-nginx-common_1.18.0-6.1+deb11u4_all.deb ...
Unpacking nginx-common (1.18.0-6.1+deb11u4) ...
Selecting previously unselected package libnginx-mod-http-geoip.
Preparing to unpack .../35-libnginx-mod-http-geoip_1.18.0-6.1+deb11u4_amd64.deb ...
Unpacking libnginx-mod-http-geoip (1.18.0-6.1+deb11u4) ...
Selecting previously unselected package libnginx-mod-http-image-filter.
Preparing to unpack .../36-libnginx-mod-http-image-filter_1.18.0-6.1+deb11u4_amd64.deb ...
Unpacking libnginx-mod-http-image-filter (1.18.0-6.1+deb11u4) ...
Selecting previously unselected package libxml2:amd64.
Preparing to unpack .../37-libxml2_2.9.10+dfsg-6.7+deb11u7_amd64.deb ...
Unpacking libxml2:amd64 (2.9.10+dfsg-6.7+deb11u7) ...
Selecting previously unselected package libxslt1.1:amd64.
Preparing to unpack .../38-libxslt1.1_1.1.34-4+deb11u2_amd64.deb ...
Unpacking libxslt1.1:amd64 (1.1.34-4+deb11u2) ...
Selecting previously unselected package libnginx-mod-http-xslt-filter.
Preparing to unpack .../39-libnginx-mod-http-xslt-filter_1.18.0-6.1+deb11u4_amd64.deb ...
Unpacking libnginx-mod-http-xslt-filter (1.18.0-6.1+deb11u4) ...
Selecting previously unselected package libnginx-mod-mail.
Preparing to unpack .../40-libnginx-mod-mail_1.18.0-6.1+deb11u4_amd64.deb ...
Unpacking libnginx-mod-mail (1.18.0-6.1+deb11u4) ...
Selecting previously unselected package libnginx-mod-stream.
Preparing to unpack .../41-libnginx-mod-stream_1.18.0-6.1+deb11u4_amd64.deb ...
Unpacking libnginx-mod-stream (1.18.0-6.1+deb11u4) ...
Selecting previously unselected package libnginx-mod-stream-geoip.
Preparing to unpack .../42-libnginx-mod-stream-geoip_1.18.0-6.1+deb11u4_amd64.deb ...
Unpacking libnginx-mod-stream-geoip (1.18.0-6.1+deb11u4) ...
Selecting previously unselected package libpam-cap:amd64.
Preparing to unpack .../43-libpam-cap_1%3a2.44-1+deb11u1_amd64.deb ...
Unpacking libpam-cap:amd64 (1:2.44-1+deb11u1) ...
Selecting previously unselected package nginx-core.
Preparing to unpack .../44-nginx-core_1.18.0-6.1+deb11u4_amd64.deb ...
Unpacking nginx-core (1.18.0-6.1+deb11u4) ...
Selecting previously unselected package nginx.
Preparing to unpack .../45-nginx_1.18.0-6.1+deb11u4_all.deb ...
Unpacking nginx (1.18.0-6.1+deb11u4) ...
Setting up libexpat1:amd64 (2.2.10-2+deb11u7) ...
Setting up libxau6:amd64 (1:1.0.9-1) ...
Setting up libicu67:amd64 (67.1-7) ...
Setting up libbrotli1:amd64 (1.0.9-2+b2) ...
Setting up libdeflate0:amd64 (1.7-1) ...
Setting up nginx-common (1.18.0-6.1+deb11u4) ...
debconf: unable to initialize frontend: Dialog
debconf: (No usable dialog-like program is installed, so the dialog based frontend cannot be used. at /usr/share/perl5/Debconf/FrontEnd/Dialog.pm line 78.)
debconf: falling back to frontend: Readline
debconf: unable to initialize frontend: Readline
debconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.32.1 /usr/local/share/perl/5.32.1 /usr/lib/x86_64-linux-gnu/perl5/5.32 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.32 /usr/share/perl/5.32 /usr/local/lib/site_perl) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)
debconf: falling back to frontend: Teletype
Setting up libatm1:amd64 (1:2.5.1-4) ...
Setting up libjbig0:amd64 (2.1-3.1+b2) ...
Setting up libcap2:amd64 (1:2.44-1+deb11u1) ...
Setting up libcap2-bin (1:2.44-1+deb11u1) ...
Setting up libjpeg62-turbo:amd64 (1:2.0.6-4) ...
Setting up libx11-data (2:1.7.2-1+deb11u2) ...
Setting up libpng16-16:amd64 (1.6.37-3) ...
Setting up libmnl0:amd64 (1.0.4-3) ...
Setting up libwebp6:amd64 (0.6.1-2.1+deb11u2) ...
Setting up fonts-dejavu-core (2.37-2) ...
Setting up libxtables12:amd64 (1.8.7-1) ...
Setting up libmd0:amd64 (1.0.3-3) ...
Setting up sensible-utils (0.0.14) ...
Setting up libgeoip1:amd64 (1.6.12-7) ...
Setting up libtiff5:amd64 (4.2.0-1+deb11u6) ...
Setting up geoip-database (20191224-3) ...
Setting up libbsd0:amd64 (0.11.3-1+deb11u1) ...
Setting up libelf1:amd64 (0.183-1) ...
Setting up libpam-cap:amd64 (1:2.44-1+deb11u1) ...
debconf: unable to initialize frontend: Dialog
debconf: (No usable dialog-like program is installed, so the dialog based frontend cannot be used. at /usr/share/perl5/Debconf/FrontEnd/Dialog.pm line 78.)
debconf: falling back to frontend: Readline
debconf: unable to initialize frontend: Readline
debconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.32.1 /usr/local/share/perl/5.32.1 /usr/lib/x86_64-linux-gnu/perl5/5.32 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.32 /usr/share/perl/5.32 /usr/local/lib/site_perl) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)
debconf: falling back to frontend: Teletype
Setting up libxml2:amd64 (2.9.10+dfsg-6.7+deb11u7) ...
Setting up libnginx-mod-mail (1.18.0-6.1+deb11u4) ...
Setting up libxdmcp6:amd64 (1:1.1.2-3) ...
Setting up libxcb1:amd64 (1.14-3) ...
Setting up libnginx-mod-stream (1.18.0-6.1+deb11u4) ...
Setting up libnginx-mod-stream-geoip (1.18.0-6.1+deb11u4) ...
Setting up libnginx-mod-http-geoip (1.18.0-6.1+deb11u4) ...
Setting up libfreetype6:amd64 (2.10.4+dfsg-1+deb11u2) ...
Setting up ucf (3.0043+deb11u2) ...
debconf: unable to initialize frontend: Dialog
debconf: (No usable dialog-like program is installed, so the dialog based frontend cannot be used. at /usr/share/perl5/Debconf/FrontEnd/Dialog.pm line 78.)
debconf: falling back to frontend: Readline
debconf: unable to initialize frontend: Readline
debconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.32.1 /usr/local/share/perl/5.32.1 /usr/lib/x86_64-linux-gnu/perl5/5.32 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.32 /usr/share/perl/5.32 /usr/local/lib/site_perl) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)
debconf: falling back to frontend: Teletype
Setting up libxslt1.1:amd64 (1.1.34-4+deb11u2) ...
Setting up libx11-6:amd64 (2:1.7.2-1+deb11u2) ...
Setting up libbpf0:amd64 (1:0.3-2+deb11u1) ...
Setting up libxpm4:amd64 (1:3.5.12-1.1+deb11u1) ...
Setting up fontconfig-config (2.13.1-4.2) ...
debconf: unable to initialize frontend: Dialog
debconf: (No usable dialog-like program is installed, so the dialog based frontend cannot be used. at /usr/share/perl5/Debconf/FrontEnd/Dialog.pm line 78.)
debconf: falling back to frontend: Readline
debconf: unable to initialize frontend: Readline
debconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.32.1 /usr/local/share/perl/5.32.1 /usr/lib/x86_64-linux-gnu/perl5/5.32 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.32 /usr/share/perl/5.32 /usr/local/lib/site_perl) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)
debconf: falling back to frontend: Teletype
Setting up iproute2 (5.10.0-4) ...
debconf: unable to initialize frontend: Dialog
debconf: (No usable dialog-like program is installed, so the dialog based frontend cannot be used. at /usr/share/perl5/Debconf/FrontEnd/Dialog.pm line 78.)
debconf: falling back to frontend: Readline
debconf: unable to initialize frontend: Readline
debconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.32.1 /usr/local/share/perl/5.32.1 /usr/lib/x86_64-linux-gnu/perl5/5.32 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.32 /usr/share/perl/5.32 /usr/local/lib/site_perl) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)
debconf: falling back to frontend: Teletype
Setting up libnginx-mod-http-xslt-filter (1.18.0-6.1+deb11u4) ...
Setting up libfontconfig1:amd64 (2.13.1-4.2) ...
Setting up libgd3:amd64 (2.3.0-2) ...
Setting up libnginx-mod-http-image-filter (1.18.0-6.1+deb11u4) ...
Setting up nginx-core (1.18.0-6.1+deb11u4) ...
invoke-rc.d: could not determine current runlevel
invoke-rc.d: policy-rc.d denied execution of start.
Setting up nginx (1.18.0-6.1+deb11u4) ...
Processing triggers for libc-bin (2.31-13+deb11u11) ...


ubuntu:~$ docker commit temp-container nginx-product-host-i
sha256:68d067c0877cf220b6fc89f95f8d53faeec6508e0e7fed892d0ea90155cb19c5
ubuntu:~$ docker rm temp-container
temp-container

docker run -d --name nginx-product-host-i-container -p 8080:80 nginx-product-host-i nginx -g "daemon off;"
96e9d6b0774dc7d36fdd07168506754d9debb10b958e92d540050d9e01be2577
ubuntu:~$ docker ps | grep nginx-product-host-i-container
96e9d6b0774d   nginx-product-host-i   "nginx -g 'daemon of…"   14 seconds ago   Up 13 seconds   0.0.0.0:8080->80/tcp, :::8080->80/tcp   nginx-product-host-i-container

ubuntu:~$ cat > Dockerfile <<EOF
> FROM debian:11-slim
RUN apt-get update && apt-get install -y nginx && mkdir -p /var/www/html
EXPOSE 80
CMD ["nginx", "-g", "daemon off;"]
EOF

ubuntu:~$ docker build -t nginx-product-host .
DEPRECATED: The legacy builder is deprecated and will be removed in a future release.
            Install the buildx component to build images with BuildKit:
            https://docs.docker.com/go/buildx/

Sending build context to Docker daemon  23.04kB
Step 1/4 : FROM debian:11-slim
 ---> 70c53fd29fab
Step 2/4 : RUN apt-get update && apt-get install -y nginx && mkdir -p /var/www/html
 ---> Running in c51828474270
Get:1 http://deb.debian.org/debian bullseye InRelease [116 kB]
Get:2 http://deb.debian.org/debian-security bullseye-security InRelease [27.2 kB]
Get:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]
Get:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8066 kB]
Get:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [363 kB]
Get:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [18.8 kB]
Fetched 8635 kB in 2s (5306 kB/s)
Reading package lists...
Reading package lists...
Building dependency tree...
Reading state information...
The following additional packages will be installed:
  fontconfig-config fonts-dejavu-core geoip-database iproute2 libatm1 libbpf0
  libbrotli1 libbsd0 libcap2 libcap2-bin libdeflate0 libelf1 libexpat1
  libfontconfig1 libfreetype6 libgd3 libgeoip1 libicu67 libjbig0
  libjpeg62-turbo libmd0 libmnl0 libnginx-mod-http-geoip
  libnginx-mod-http-image-filter libnginx-mod-http-xslt-filter
  libnginx-mod-mail libnginx-mod-stream libnginx-mod-stream-geoip libpam-cap
  libpng16-16 libtiff5 libwebp6 libx11-6 libx11-data libxau6 libxcb1 libxdmcp6
  libxml2 libxpm4 libxslt1.1 libxtables12 nginx-common nginx-core
  sensible-utils ucf
Suggested packages:
  iproute2-doc libgd-tools geoip-bin fcgiwrap nginx-doc ssl-cert
The following NEW packages will be installed:
  fontconfig-config fonts-dejavu-core geoip-database iproute2 libatm1 libbpf0
  libbrotli1 libbsd0 libcap2 libcap2-bin libdeflate0 libelf1 libexpat1
  libfontconfig1 libfreetype6 libgd3 libgeoip1 libicu67 libjbig0
  libjpeg62-turbo libmd0 libmnl0 libnginx-mod-http-geoip
  libnginx-mod-http-image-filter libnginx-mod-http-xslt-filter
  libnginx-mod-mail libnginx-mod-stream libnginx-mod-stream-geoip libpam-cap
  libpng16-16 libtiff5 libwebp6 libx11-6 libx11-data libxau6 libxcb1 libxdmcp6
  libxml2 libxpm4 libxslt1.1 libxtables12 nginx nginx-common nginx-core
  sensible-utils ucf
0 upgraded, 46 newly installed, 0 to remove and 2 not upgraded.
Need to get 20.7 MB of archives.
After this operation, 67.9 MB of additional disk space will be used.
Get:1 http://deb.debian.org/debian bullseye/main amd64 libelf1 amd64 0.183-1 [165 kB]
Get:2 http://deb.debian.org/debian-security bullseye-security/main amd64 libbpf0 amd64 1:0.3-2+deb11u1 [98.5 kB]
Get:3 http://deb.debian.org/debian bullseye/main amd64 libmd0 amd64 1.0.3-3 [28.0 kB]
Get:4 http://deb.debian.org/debian bullseye/main amd64 libbsd0 amd64 0.11.3-1+deb11u1 [108 kB]
Get:5 http://deb.debian.org/debian-security bullseye-security/main amd64 libcap2 amd64 1:2.44-1+deb11u1 [24.2 kB]
Get:6 http://deb.debian.org/debian bullseye/main amd64 libmnl0 amd64 1.0.4-3 [12.5 kB]
Get:7 http://deb.debian.org/debian bullseye/main amd64 libxtables12 amd64 1.8.7-1 [45.1 kB]
Get:8 http://deb.debian.org/debian-security bullseye-security/main amd64 libcap2-bin amd64 1:2.44-1+deb11u1 [33.2 kB]
Get:9 http://deb.debian.org/debian bullseye/main amd64 iproute2 amd64 5.10.0-4 [930 kB]
Get:10 http://deb.debian.org/debian bullseye/main amd64 sensible-utils all 0.0.14 [14.8 kB]
Get:11 http://deb.debian.org/debian-security bullseye-security/main amd64 ucf all 3.0043+deb11u2 [74.3 kB]
Get:12 http://deb.debian.org/debian bullseye/main amd64 fonts-dejavu-core all 2.37-2 [1069 kB]
Get:13 http://deb.debian.org/debian bullseye/main amd64 fontconfig-config all 2.13.1-4.2 [281 kB]
Get:14 http://deb.debian.org/debian bullseye/main amd64 geoip-database all 20191224-3 [3032 kB]
Get:15 http://deb.debian.org/debian bullseye/main amd64 libatm1 amd64 1:2.5.1-4 [71.3 kB]
Get:16 http://deb.debian.org/debian bullseye/main amd64 libbrotli1 amd64 1.0.9-2+b2 [279 kB]
Get:17 http://deb.debian.org/debian bullseye/main amd64 libdeflate0 amd64 1.7-1 [53.1 kB]
Get:18 http://deb.debian.org/debian-security bullseye-security/main amd64 libexpat1 amd64 2.2.10-2+deb11u7 [99.2 kB]
Get:19 http://deb.debian.org/debian bullseye/main amd64 libpng16-16 amd64 1.6.37-3 [294 kB]
Get:20 http://deb.debian.org/debian-security bullseye-security/main amd64 libfreetype6 amd64 2.10.4+dfsg-1+deb11u2 [418 kB]
Get:21 http://deb.debian.org/debian bullseye/main amd64 libfontconfig1 amd64 2.13.1-4.2 [347 kB]
Get:22 http://deb.debian.org/debian bullseye/main amd64 libjpeg62-turbo amd64 1:2.0.6-4 [151 kB]
Get:23 http://deb.debian.org/debian bullseye/main amd64 libjbig0 amd64 2.1-3.1+b2 [31.0 kB]
Get:24 http://deb.debian.org/debian bullseye/main amd64 libwebp6 amd64 0.6.1-2.1+deb11u2 [259 kB]
Get:25 http://deb.debian.org/debian-security bullseye-security/main amd64 libtiff5 amd64 4.2.0-1+deb11u6 [291 kB]
Get:26 http://deb.debian.org/debian bullseye/main amd64 libxau6 amd64 1:1.0.9-1 [19.7 kB]
Get:27 http://deb.debian.org/debian bullseye/main amd64 libxdmcp6 amd64 1:1.1.2-3 [26.3 kB]
Get:28 http://deb.debian.org/debian bullseye/main amd64 libxcb1 amd64 1.14-3 [140 kB]
Get:29 http://deb.debian.org/debian bullseye/main amd64 libx11-data all 2:1.7.2-1+deb11u2 [311 kB]
Get:30 http://deb.debian.org/debian bullseye/main amd64 libx11-6 amd64 2:1.7.2-1+deb11u2 [772 kB]
Get:31 http://deb.debian.org/debian bullseye/main amd64 libxpm4 amd64 1:3.5.12-1.1+deb11u1 [50.0 kB]
Get:32 http://deb.debian.org/debian bullseye/main amd64 libgd3 amd64 2.3.0-2 [137 kB]
Get:33 http://deb.debian.org/debian bullseye/main amd64 libgeoip1 amd64 1.6.12-7 [92.5 kB]
Get:34 http://deb.debian.org/debian bullseye/main amd64 libicu67 amd64 67.1-7 [8622 kB]
Get:35 http://deb.debian.org/debian-security bullseye-security/main amd64 nginx-common all 1.18.0-6.1+deb11u4 [126 kB]
Get:36 http://deb.debian.org/debian-security bullseye-security/main amd64 libnginx-mod-http-geoip amd64 1.18.0-6.1+deb11u4 [98.6 kB]
Get:37 http://deb.debian.org/debian-security bullseye-security/main amd64 libnginx-mod-http-image-filter amd64 1.18.0-6.1+deb11u4 [102 kB]
Get:38 http://deb.debian.org/debian-security bullseye-security/main amd64 libxml2 amd64 2.9.10+dfsg-6.7+deb11u7 [693 kB]
Get:39 http://deb.debian.org/debian-security bullseye-security/main amd64 libxslt1.1 amd64 1.1.34-4+deb11u2 [240 kB]
Get:40 http://deb.debian.org/debian-security bullseye-security/main amd64 libnginx-mod-http-xslt-filter amd64 1.18.0-6.1+deb11u4 [101 kB]
Get:41 http://deb.debian.org/debian-security bullseye-security/main amd64 libnginx-mod-mail amd64 1.18.0-6.1+deb11u4 [130 kB]
Get:42 http://deb.debian.org/debian-security bullseye-security/main amd64 libnginx-mod-stream amd64 1.18.0-6.1+deb11u4 [155 kB]
Get:43 http://deb.debian.org/debian-security bullseye-security/main amd64 libnginx-mod-stream-geoip amd64 1.18.0-6.1+deb11u4 [97.8 kB]
Get:44 http://deb.debian.org/debian-security bullseye-security/main amd64 libpam-cap amd64 1:2.44-1+deb11u1 [16.0 kB]
Get:45 http://deb.debian.org/debian-security bullseye-security/main amd64 nginx-core amd64 1.18.0-6.1+deb11u4 [516 kB]
Get:46 http://deb.debian.org/debian-security bullseye-security/main amd64 nginx all 1.18.0-6.1+deb11u4 [93.1 kB]
debconf: delaying package configuration, since apt-utils is not installed
Fetched 20.7 MB in 1s (33.5 MB/s)
Selecting previously unselected package libelf1:amd64.
(Reading database ... 6673 files and directories currently installed.)
Preparing to unpack .../00-libelf1_0.183-1_amd64.deb ...
Unpacking libelf1:amd64 (0.183-1) ...
Selecting previously unselected package libbpf0:amd64.
Preparing to unpack .../01-libbpf0_1%3a0.3-2+deb11u1_amd64.deb ...
Unpacking libbpf0:amd64 (1:0.3-2+deb11u1) ...
Selecting previously unselected package libmd0:amd64.
Preparing to unpack .../02-libmd0_1.0.3-3_amd64.deb ...
Unpacking libmd0:amd64 (1.0.3-3) ...
Selecting previously unselected package libbsd0:amd64.
Preparing to unpack .../03-libbsd0_0.11.3-1+deb11u1_amd64.deb ...
Unpacking libbsd0:amd64 (0.11.3-1+deb11u1) ...
Selecting previously unselected package libcap2:amd64.
Preparing to unpack .../04-libcap2_1%3a2.44-1+deb11u1_amd64.deb ...
Unpacking libcap2:amd64 (1:2.44-1+deb11u1) ...
Selecting previously unselected package libmnl0:amd64.
Preparing to unpack .../05-libmnl0_1.0.4-3_amd64.deb ...
Unpacking libmnl0:amd64 (1.0.4-3) ...
Selecting previously unselected package libxtables12:amd64.
Preparing to unpack .../06-libxtables12_1.8.7-1_amd64.deb ...
Unpacking libxtables12:amd64 (1.8.7-1) ...
Selecting previously unselected package libcap2-bin.
Preparing to unpack .../07-libcap2-bin_1%3a2.44-1+deb11u1_amd64.deb ...
Unpacking libcap2-bin (1:2.44-1+deb11u1) ...
Selecting previously unselected package iproute2.
Preparing to unpack .../08-iproute2_5.10.0-4_amd64.deb ...
Unpacking iproute2 (5.10.0-4) ...
Selecting previously unselected package sensible-utils.
Preparing to unpack .../09-sensible-utils_0.0.14_all.deb ...
Unpacking sensible-utils (0.0.14) ...
Selecting previously unselected package ucf.
Preparing to unpack .../10-ucf_3.0043+deb11u2_all.deb ...
Moving old data out of the way
Unpacking ucf (3.0043+deb11u2) ...
Selecting previously unselected package fonts-dejavu-core.
Preparing to unpack .../11-fonts-dejavu-core_2.37-2_all.deb ...
Unpacking fonts-dejavu-core (2.37-2) ...
Selecting previously unselected package fontconfig-config.
Preparing to unpack .../12-fontconfig-config_2.13.1-4.2_all.deb ...
Unpacking fontconfig-config (2.13.1-4.2) ...
Selecting previously unselected package geoip-database.
Preparing to unpack .../13-geoip-database_20191224-3_all.deb ...
Unpacking geoip-database (20191224-3) ...
Selecting previously unselected package libatm1:amd64.
Preparing to unpack .../14-libatm1_1%3a2.5.1-4_amd64.deb ...
Unpacking libatm1:amd64 (1:2.5.1-4) ...
Selecting previously unselected package libbrotli1:amd64.
Preparing to unpack .../15-libbrotli1_1.0.9-2+b2_amd64.deb ...
Unpacking libbrotli1:amd64 (1.0.9-2+b2) ...
Selecting previously unselected package libdeflate0:amd64.
Preparing to unpack .../16-libdeflate0_1.7-1_amd64.deb ...
Unpacking libdeflate0:amd64 (1.7-1) ...
Selecting previously unselected package libexpat1:amd64.
Preparing to unpack .../17-libexpat1_2.2.10-2+deb11u7_amd64.deb ...
Unpacking libexpat1:amd64 (2.2.10-2+deb11u7) ...
Selecting previously unselected package libpng16-16:amd64.
Preparing to unpack .../18-libpng16-16_1.6.37-3_amd64.deb ...
Unpacking libpng16-16:amd64 (1.6.37-3) ...
Selecting previously unselected package libfreetype6:amd64.
Preparing to unpack .../19-libfreetype6_2.10.4+dfsg-1+deb11u2_amd64.deb ...
Unpacking libfreetype6:amd64 (2.10.4+dfsg-1+deb11u2) ...
Selecting previously unselected package libfontconfig1:amd64.
Preparing to unpack .../20-libfontconfig1_2.13.1-4.2_amd64.deb ...
Unpacking libfontconfig1:amd64 (2.13.1-4.2) ...
Selecting previously unselected package libjpeg62-turbo:amd64.
Preparing to unpack .../21-libjpeg62-turbo_1%3a2.0.6-4_amd64.deb ...
Unpacking libjpeg62-turbo:amd64 (1:2.0.6-4) ...
Selecting previously unselected package libjbig0:amd64.
Preparing to unpack .../22-libjbig0_2.1-3.1+b2_amd64.deb ...
Unpacking libjbig0:amd64 (2.1-3.1+b2) ...
Selecting previously unselected package libwebp6:amd64.
Preparing to unpack .../23-libwebp6_0.6.1-2.1+deb11u2_amd64.deb ...
Unpacking libwebp6:amd64 (0.6.1-2.1+deb11u2) ...
Selecting previously unselected package libtiff5:amd64.
Preparing to unpack .../24-libtiff5_4.2.0-1+deb11u6_amd64.deb ...
Unpacking libtiff5:amd64 (4.2.0-1+deb11u6) ...
Selecting previously unselected package libxau6:amd64.
Preparing to unpack .../25-libxau6_1%3a1.0.9-1_amd64.deb ...
Unpacking libxau6:amd64 (1:1.0.9-1) ...
Selecting previously unselected package libxdmcp6:amd64.
Preparing to unpack .../26-libxdmcp6_1%3a1.1.2-3_amd64.deb ...
Unpacking libxdmcp6:amd64 (1:1.1.2-3) ...
Selecting previously unselected package libxcb1:amd64.
Preparing to unpack .../27-libxcb1_1.14-3_amd64.deb ...
Unpacking libxcb1:amd64 (1.14-3) ...
Selecting previously unselected package libx11-data.
Preparing to unpack .../28-libx11-data_2%3a1.7.2-1+deb11u2_all.deb ...
Unpacking libx11-data (2:1.7.2-1+deb11u2) ...
Selecting previously unselected package libx11-6:amd64.
Preparing to unpack .../29-libx11-6_2%3a1.7.2-1+deb11u2_amd64.deb ...
Unpacking libx11-6:amd64 (2:1.7.2-1+deb11u2) ...
Selecting previously unselected package libxpm4:amd64.
Preparing to unpack .../30-libxpm4_1%3a3.5.12-1.1+deb11u1_amd64.deb ...
Unpacking libxpm4:amd64 (1:3.5.12-1.1+deb11u1) ...
Selecting previously unselected package libgd3:amd64.
Preparing to unpack .../31-libgd3_2.3.0-2_amd64.deb ...
Unpacking libgd3:amd64 (2.3.0-2) ...
Selecting previously unselected package libgeoip1:amd64.
Preparing to unpack .../32-libgeoip1_1.6.12-7_amd64.deb ...
Unpacking libgeoip1:amd64 (1.6.12-7) ...
Selecting previously unselected package libicu67:amd64.
Preparing to unpack .../33-libicu67_67.1-7_amd64.deb ...
Unpacking libicu67:amd64 (67.1-7) ...
Selecting previously unselected package nginx-common.
Preparing to unpack .../34-nginx-common_1.18.0-6.1+deb11u4_all.deb ...
Unpacking nginx-common (1.18.0-6.1+deb11u4) ...
Selecting previously unselected package libnginx-mod-http-geoip.
Preparing to unpack .../35-libnginx-mod-http-geoip_1.18.0-6.1+deb11u4_amd64.deb ...
Unpacking libnginx-mod-http-geoip (1.18.0-6.1+deb11u4) ...
Selecting previously unselected package libnginx-mod-http-image-filter.
Preparing to unpack .../36-libnginx-mod-http-image-filter_1.18.0-6.1+deb11u4_amd64.deb ...
Unpacking libnginx-mod-http-image-filter (1.18.0-6.1+deb11u4) ...
Selecting previously unselected package libxml2:amd64.
Preparing to unpack .../37-libxml2_2.9.10+dfsg-6.7+deb11u7_amd64.deb ...
Unpacking libxml2:amd64 (2.9.10+dfsg-6.7+deb11u7) ...
Selecting previously unselected package libxslt1.1:amd64.
Preparing to unpack .../38-libxslt1.1_1.1.34-4+deb11u2_amd64.deb ...
Unpacking libxslt1.1:amd64 (1.1.34-4+deb11u2) ...
Selecting previously unselected package libnginx-mod-http-xslt-filter.
Preparing to unpack .../39-libnginx-mod-http-xslt-filter_1.18.0-6.1+deb11u4_amd64.deb ...
Unpacking libnginx-mod-http-xslt-filter (1.18.0-6.1+deb11u4) ...
Selecting previously unselected package libnginx-mod-mail.
Preparing to unpack .../40-libnginx-mod-mail_1.18.0-6.1+deb11u4_amd64.deb ...
Unpacking libnginx-mod-mail (1.18.0-6.1+deb11u4) ...
Selecting previously unselected package libnginx-mod-stream.
Preparing to unpack .../41-libnginx-mod-stream_1.18.0-6.1+deb11u4_amd64.deb ...
Unpacking libnginx-mod-stream (1.18.0-6.1+deb11u4) ...
Selecting previously unselected package libnginx-mod-stream-geoip.
Preparing to unpack .../42-libnginx-mod-stream-geoip_1.18.0-6.1+deb11u4_amd64.deb ...
Unpacking libnginx-mod-stream-geoip (1.18.0-6.1+deb11u4) ...
Selecting previously unselected package libpam-cap:amd64.
Preparing to unpack .../43-libpam-cap_1%3a2.44-1+deb11u1_amd64.deb ...
Unpacking libpam-cap:amd64 (1:2.44-1+deb11u1) ...
Selecting previously unselected package nginx-core.
Preparing to unpack .../44-nginx-core_1.18.0-6.1+deb11u4_amd64.deb ...
Unpacking nginx-core (1.18.0-6.1+deb11u4) ...
Selecting previously unselected package nginx.
Preparing to unpack .../45-nginx_1.18.0-6.1+deb11u4_all.deb ...
Unpacking nginx (1.18.0-6.1+deb11u4) ...
Setting up libexpat1:amd64 (2.2.10-2+deb11u7) ...
Setting up libxau6:amd64 (1:1.0.9-1) ...
Setting up libicu67:amd64 (67.1-7) ...
Setting up libbrotli1:amd64 (1.0.9-2+b2) ...
Setting up libdeflate0:amd64 (1.7-1) ...
Setting up nginx-common (1.18.0-6.1+deb11u4) ...
debconf: unable to initialize frontend: Dialog
debconf: (TERM is not set, so the dialog frontend is not usable.)
debconf: falling back to frontend: Readline
debconf: unable to initialize frontend: Readline
debconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.32.1 /usr/local/share/perl/5.32.1 /usr/lib/x86_64-linux-gnu/perl5/5.32 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.32 /usr/share/perl/5.32 /usr/local/lib/site_perl) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)
debconf: falling back to frontend: Teletype
Setting up libatm1:amd64 (1:2.5.1-4) ...
Setting up libjbig0:amd64 (2.1-3.1+b2) ...
Setting up libcap2:amd64 (1:2.44-1+deb11u1) ...
Setting up libcap2-bin (1:2.44-1+deb11u1) ...
Setting up libjpeg62-turbo:amd64 (1:2.0.6-4) ...
Setting up libx11-data (2:1.7.2-1+deb11u2) ...
Setting up libpng16-16:amd64 (1.6.37-3) ...
Setting up libmnl0:amd64 (1.0.4-3) ...
Setting up libwebp6:amd64 (0.6.1-2.1+deb11u2) ...
Setting up fonts-dejavu-core (2.37-2) ...
Setting up libxtables12:amd64 (1.8.7-1) ...
Setting up libmd0:amd64 (1.0.3-3) ...
Setting up sensible-utils (0.0.14) ...
Setting up libgeoip1:amd64 (1.6.12-7) ...
Setting up libtiff5:amd64 (4.2.0-1+deb11u6) ...
Setting up geoip-database (20191224-3) ...
Setting up libbsd0:amd64 (0.11.3-1+deb11u1) ...
Setting up libelf1:amd64 (0.183-1) ...
Setting up libpam-cap:amd64 (1:2.44-1+deb11u1) ...
debconf: unable to initialize frontend: Dialog
debconf: (TERM is not set, so the dialog frontend is not usable.)
debconf: falling back to frontend: Readline
debconf: unable to initialize frontend: Readline
debconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.32.1 /usr/local/share/perl/5.32.1 /usr/lib/x86_64-linux-gnu/perl5/5.32 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.32 /usr/share/perl/5.32 /usr/local/lib/site_perl) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)
debconf: falling back to frontend: Teletype
Setting up libxml2:amd64 (2.9.10+dfsg-6.7+deb11u7) ...
Setting up libnginx-mod-mail (1.18.0-6.1+deb11u4) ...
Setting up libxdmcp6:amd64 (1:1.1.2-3) ...
Setting up libxcb1:amd64 (1.14-3) ...
Setting up libnginx-mod-stream (1.18.0-6.1+deb11u4) ...
Setting up libnginx-mod-stream-geoip (1.18.0-6.1+deb11u4) ...
Setting up libnginx-mod-http-geoip (1.18.0-6.1+deb11u4) ...
Setting up libfreetype6:amd64 (2.10.4+dfsg-1+deb11u2) ...
Setting up ucf (3.0043+deb11u2) ...
debconf: unable to initialize frontend: Dialog
debconf: (TERM is not set, so the dialog frontend is not usable.)
debconf: falling back to frontend: Readline
debconf: unable to initialize frontend: Readline
debconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.32.1 /usr/local/share/perl/5.32.1 /usr/lib/x86_64-linux-gnu/perl5/5.32 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.32 /usr/share/perl/5.32 /usr/local/lib/site_perl) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)
debconf: falling back to frontend: Teletype
Setting up libxslt1.1:amd64 (1.1.34-4+deb11u2) ...
Setting up libx11-6:amd64 (2:1.7.2-1+deb11u2) ...
Setting up libbpf0:amd64 (1:0.3-2+deb11u1) ...
Setting up libxpm4:amd64 (1:3.5.12-1.1+deb11u1) ...
Setting up fontconfig-config (2.13.1-4.2) ...
debconf: unable to initialize frontend: Dialog
debconf: (TERM is not set, so the dialog frontend is not usable.)
debconf: falling back to frontend: Readline
debconf: unable to initialize frontend: Readline
debconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.32.1 /usr/local/share/perl/5.32.1 /usr/lib/x86_64-linux-gnu/perl5/5.32 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.32 /usr/share/perl/5.32 /usr/local/lib/site_perl) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)
debconf: falling back to frontend: Teletype
Setting up iproute2 (5.10.0-4) ...
debconf: unable to initialize frontend: Dialog
debconf: (TERM is not set, so the dialog frontend is not usable.)
debconf: falling back to frontend: Readline
debconf: unable to initialize frontend: Readline
debconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.32.1 /usr/local/share/perl/5.32.1 /usr/lib/x86_64-linux-gnu/perl5/5.32 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.32 /usr/share/perl/5.32 /usr/local/lib/site_perl) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)
debconf: falling back to frontend: Teletype
Setting up libnginx-mod-http-xslt-filter (1.18.0-6.1+deb11u4) ...
Setting up libfontconfig1:amd64 (2.13.1-4.2) ...
Setting up libgd3:amd64 (2.3.0-2) ...
Setting up libnginx-mod-http-image-filter (1.18.0-6.1+deb11u4) ...
Setting up nginx-core (1.18.0-6.1+deb11u4) ...
invoke-rc.d: could not determine current runlevel
invoke-rc.d: policy-rc.d denied execution of start.
Setting up nginx (1.18.0-6.1+deb11u4) ...
Processing triggers for libc-bin (2.31-13+deb11u11) ...
 ---> Removed intermediate container c51828474270
 ---> e9cefa82a3c5
Step 3/4 : EXPOSE 80
 ---> Running in ee2a7f8af76d
 ---> Removed intermediate container ee2a7f8af76d
 ---> 2f36ec29e5db
Step 4/4 : CMD ["nginx", "-g", "daemon off;"]
 ---> Running in b4924cf38de2
 ---> Removed intermediate container b4924cf38de2
 ---> 6f072636aeb7
Successfully built 6f072636aeb7
Successfully tagged nginx-product-host:latest


ubuntu:~$ docker run -d --name nginx-product-host-container -p 8081:80 nginx-product-host
5004e8ebbc4711f6749889457a3d36782031598ba54a7ba293552ac4c4e0f82d
ubuntu:~$ docker ps | grep nginx-product-host-container
5004e8ebbc47   nginx-product-host     "nginx -g 'daemon of…"   4 seconds ago   Up 4 seconds   0.0.0.0:8081->80/tcp, :::8081->80/tcp   nginx-product-host-container
ubuntu:~$ docker cp products.txt nginx-product-host-i-container:/var/www/html/
Successfully copied 2.05kB to nginx-product-host-i-container:/var/www/html/
ubuntu:~$ docker cp products.txt nginx-product-host-container:/var/www/html/
Successfully copied 2.05kB to nginx-product-host-container:/var/www/html/

ubuntu:~$ curl -I http://localhost:8080/products.txt
HTTP/1.1 200 OK
Server: nginx/1.18.0
Date: Sat, 03 May 2025 22:24:36 GMT
Content-Type: text/plain
Content-Length: 43
Last-Modified: Sat, 03 May 2025 22:20:52 GMT
Connection: keep-alive
ETag: "681696c4-2b"
Accept-Ranges: bytes

ubuntu:~$ curl -I http://localhost:8081/products.txt
HTTP/1.1 200 OK
Server: nginx/1.18.0
Date: Sat, 03 May 2025 22:24:41 GMT
Content-Type: text/plain
Content-Length: 43
Last-Modified: Sat, 03 May 2025 22:20:52 GMT
Connection: keep-alive
ETag: "681696c4-2b"
Accept-Ranges: bytes

ubuntu:~$ wget http://localhost:8080/products.txt
--2025-05-03 22:24:44--  http://localhost:8080/products.txt
Resolving localhost (localhost)... 127.0.0.1
Connecting to localhost (localhost)|127.0.0.1|:8080... connected.
HTTP request sent, awaiting response... 200 OK
Length: 43 [text/plain]
Saving to: 'products.txt.1'

products.txt.1          100%[=============================>]      43  --.-KB/s    in 0s      

2025-05-03 22:24:44 (8.94 MB/s) - 'products.txt.1' saved [43/43]

ubuntu:~$ wget http://localhost:8081/products.txt
--2025-05-03 22:24:48--  http://localhost:8081/products.txt
Resolving localhost (localhost)... 127.0.0.1
Connecting to localhost (localhost)|127.0.0.1|:8081... connected.
HTTP request sent, awaiting response... 200 OK
Length: 43 [text/plain]
Saving to: 'products.txt.2'

products.txt.2          100%[=============================>]      43  --.-KB/s    in 0s      

2025-05-03 22:24:48 (9.04 MB/s) - 'products.txt.2' saved [43/43]


ubuntu:~$ docker stop nginx-product-host-container nginx-product-host-i-container
nginx-product-host-container
nginx-product-host-i-container
ubuntu:~$ docker rm nginx-product-host-container nginx-product-host-i-container
nginx-product-host-container
nginx-product-host-i-container
ubuntu:~$ mkdir html
ubuntu:~$ cp products.txt html/
ubuntu:~$ docker run -d --name nginx-product-host-container -p 8081:80 -v $(pwd)/html:/var/www/html nginx-product-host
4f28b728d73a39ae6160e9bdda72a81037f76e86b014b77458e27240579b236b
ubuntu:~$ curl -I http://localhost:8081/products.txt
HTTP/1.1 200 OK
Server: nginx/1.18.0
Date: Sat, 03 May 2025 22:25:32 GMT
Content-Type: text/plain
Content-Length: 43
Last-Modified: Sat, 03 May 2025 22:25:24 GMT
Connection: keep-alive
ETag: "681697d4-2b"
Accept-Ranges: bytes

ubuntu:~$ cat > Dockerfile <<'EOF'
> FROM openjdk:11-jdk-slim
WORKDIR /app
COPY ProductsManagement.java .
RUN javac ProductsManagement.java
ENV PRODUCT_FILE_PATH=/var/www/html/products.txt
CMD ["java", "ProductsManagement"]
EOF
ubuntu:~$ cat > ProductsManagement.java <<'EOF'
> import java.io.*;
public class ProductsManagement {
    public static void main(String[] args) {
        String path = System.getenv("PRODUCT_FILE_PATH");
        try (BufferedReader reader = new BufferedReader(new FileReader(path))) {
            String line;
            while ((line = reader.readLine()) != null) {
                String[] cells = line.split(";");
                if (cells.length != 3) throw new RuntimeException("Invalid row!");
                System.out.printf("Product Name: %s\nProduct Price: %s\nProduct Quantity: %s\n\n",
                               cells[0], cells[1], cells[2]);
            }
        } catch (Exception e) { e.printStackTrace(); }
    }
}
EOF

ubuntu:~$ docker build -t products-viewer .
DEPRECATED: The legacy builder is deprecated and will be removed in a future release.
            Install the buildx component to build images with BuildKit:
            https://docs.docker.com/go/buildx/

Sending build context to Docker daemon  28.16kB
Step 1/6 : FROM openjdk:11-jdk-slim
11-jdk-slim: Pulling from library/openjdk
1efc276f4ff9: Pull complete
a2f2f93da482: Pull complete
12cca292b13c: Pull complete
69e15dccd787: Pull complete
Digest: sha256:868a4f2151d38ba6a09870cec584346a5edc8e9b71fde275eb2e0625273e2fd8
Status: Downloaded newer image for openjdk:11-jdk-slim
 ---> 8e687a82603f
Step 2/6 : WORKDIR /app
 ---> Running in 7bb8633018c0
 ---> Removed intermediate container 7bb8633018c0
 ---> c5d728ba1905
Step 3/6 : COPY ProductsManagement.java .
 ---> ca3f01852c2f
Step 4/6 : RUN javac ProductsManagement.java
 ---> Running in e8f227ae64d0
 ---> Removed intermediate container e8f227ae64d0
 ---> 141d06863c42
Step 5/6 : ENV PRODUCT_FILE_PATH=/var/www/html/products.txt
 ---> Running in 5245a1ce5c15
 ---> Removed intermediate container 5245a1ce5c15
 ---> 0cc40de0dfef
Step 6/6 : CMD ["java", "ProductsManagement"]
 ---> Running in f8441c5568a1
 ---> Removed intermediate container f8441c5568a1
 ---> e1469a688e07
Successfully built e1469a688e07
Successfully tagged products-viewer:latest

ubuntu:~$ docker run -it --name products-viewer-container -v $(pwd)/html:/var/www/html products-viewer
Product Name: Fridge
Product Price: $600
Product Quantity: 5

Product Name: TV
Product Price: $1500
Product Quantity: 6

Product Name: Microwave
Product Price: $200
Product Quantity: 10


ubuntu:~$ docker rm -f products-viewer-container
products-viewer-container
ubuntu:~$ docker run -it --name products-viewer-container -v $(pwd)/html:/var/www/html -e PRODUCT_FILE_PATH="/var/www/html/products.txt" products-viewer
Product Name: Fridge
Product Price: $600
Product Quantity: 5

Product Name: TV
Product Price: $1500
Product Quantity: 6

Product Name: Microwave
Product Price: $200
Product Quantity: 10



